
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL") // Add your MongoDB connection string in .env
}

model Attendance {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  workerId  String
  date      DateTime
  status    String   // e.g., "Present", "Absent", etc.
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model DailyExpense {
  id                  String   @id @default(auto()) @map("_id") @db.ObjectId
  date                DateTime @unique // Each day should have one entry
  
  // Operator Expenses
  operatorGeneral     Int      @default(0) // Number of operators (general)
  operatorOvertime    Int      @default(0) // Total overtime hours for operators
  
  // Helper Expenses
  helperGeneral       Int      @default(0) // Number of helpers (general)
  helperOvertime      Int      @default(0) // Total overtime hours for helpers
  
  // Cutting Expenses
  cuttingGeneral      Int      @default(0) // Number of cutting staff
  cuttingOvertime     Int      @default(0) // Total overtime hours for cutting staff
  
  // Finishing Expenses
  finishingGeneral    Int      @default(0) // Number of finishing staff
  finishingOvertime   Int      @default(0) // Total overtime hours for finishing staff
  
  // Quality Expenses
  qualityGeneral      Int      @default(0) // Number of quality staff
  qualityOvertime     Int      @default(0) // Total overtime hours for quality staff
  
  // Staff Expenses (No overtime)
  staff               Int      @default(0) // Number of staff (no overtime)
  
  // Calculated Total Expenses
  totalExpense        Float    @default(0.0) // Total daily expense
  
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}


model Cashbook {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  date      DateTime
  description String
  amount    Float
  type      String   // e.g., "Credit" or "Debit"
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Expense {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  date      DateTime
  category  String
  amount    Float
  description String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ProductionReport {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  date        DateTime
  workerId    String
  productName String
  quantity    Int
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
